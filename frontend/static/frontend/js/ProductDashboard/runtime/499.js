(self.webpackChunkiha_ecommerce=self.webpackChunkiha_ecommerce||[]).push([[499],{1499:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(7294);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,l=[],o=!0,c=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(){var e="mt-1 appearance-none rounded-lg relative block w-full px-3 py-2 border placeholder-gray-500 text-gray-900  focus:outline-none focus:ring-green-500 focus:border-green-500  focus-within:border-green-500 focus:z-10 sm:text-sm",t=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var r=document.cookie.split(";"),n=0;n<r.length;n++){var a=r[n].trim();if(a.substring(0,e.length+1)===e+"="){t=decodeURIComponent(a.substring(e.length+1));break}}return t}("csrftoken"),r=new FormData,l="",o=function(){document.querySelector("button[type='submit']").innerHTML=l},c=a((0,n.useState)(""),2),m=c[0],i=c[1],u=a((0,n.useState)([]),2),s=u[0],d=u[1];return(0,n.useEffect)((function(){fetch("/api/product/categories").then((function(e){return e.json()})).then((function(e){d(e.categories)}))}),[]),n.createElement(n.Fragment,null,n.createElement("form",{id:"CreateProductForm",className:" w-full max-w-6xl mx-auto min-h-screen",onSubmit:function(e){e.preventDefault(),i(""),function(){for(var e in r=new FormData,document.querySelectorAll("#CreateProductForm input").forEach((function(e){"images"!=e.name&&r.append(e.name,e.value)})),r.append(document.querySelector("textarea").name,document.querySelector("textarea").value),document.querySelectorAll("#CreateProductForm select").forEach((function(e){r.append(e.name,e.value)})),r.append("csrfmiddlewaretoken",document.querySelector('input[name="csrfmiddlewaretoken"]').value),document.querySelector('#CreateProductForm input[name="images"]').files)r.append("img"+e,document.querySelector('#CreateProductForm input[name="images"]').files[e]);r.append("imageLength",document.querySelector('#CreateProductForm input[name="images"]').files.length);var t=document.querySelector("button[type='submit']");l=t.innerHTML,t.innerHTML="<div class='loading'></div>"}(),fetch("/api/product/",{method:"POST",headers:{"X-CSRFToken":t},body:r}).then((function(e){return e.json()})).then((function(e){o(),console.log(e)})).catch((function(e){o(),i(e),console.log("There is a catch ".concat(e))}))},method:"POST"},n.createElement("div",{className:"w-100 "},n.createElement("h2",{className:" mb-4 text-xl sm:text-3xl font-medium sm:font-normal text-gray-900 border-b pb-2"},n.createElement("a",{className:"no-underline hover:underline",href:"/dashboard/products/"},"Products")," ","/ ",n.createElement("span",{className:""},"Create a new Product Listing"))),""!=m&&n.createElement("div",{className:"mt-4 w-full bg-red-50 text-red-500 font-bold border-2 border-red-500 rounded-md px-1 py-2 text-center"},"This is ",m),n.createElement("div",{className:"mt-6 flex flex-col md:flex-row border rounded-lg p-5 pt-4 bg-white"},n.createElement("div",{className:"mr-0 mb-6 md:mr-5 w-full md:w-2/5"},n.createElement("label",null,"Product Photos"),n.createElement("div",{className:"relative focus-within:border-green-500 focus-within:bg-gray-50 transition-all mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"},n.createElement("input",{name:"images",type:"file",accept:"image/*",className:"absolute  top-0 h-full w-full cursor-pointer",min:1,max:5,multiple:!0}),n.createElement("div",{className:"space-y-1 text-center"},n.createElement("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},n.createElement("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),n.createElement("div",{className:"flex text-sm text-gray-600"},n.createElement("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-green-600 hover:text-green-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-green-500"},n.createElement("span",null,"Upload a file")),n.createElement("p",{className:"pl-1"},"or drag and drop")),n.createElement("p",{className:"text-xs text-gray-500"},"PNG, JPG, GIF up to 10MB")))),n.createElement("div",{className:"w-full md:w-3/5 space-y-6"},n.createElement("div",null,n.createElement("label",{className:"flex"},"Product Title",n.createElement("span",{className:"text-xs ml-auto font-gray-400 font-normal my-auto"},"(64 characters at max)")),n.createElement("input",{className:" ".concat(e.replace("sm:text-sm","text-4xl")),name:"productName",type:"text",placeholder:"Product Title",maxLength:64,required:!0})),n.createElement("div",{className:"block md:grid grid-flow-col grid-cols-3 space-y-6 md:space-y-0 space-x-0 md:space-x-6"},n.createElement("div",null,n.createElement("label",null,"Product Price"),n.createElement("span",{className:"".concat(e," flex font-medium")},"â‚¹",n.createElement("input",{className:"ml-2 focus:outline-none w-full ",name:"price",type:"number",placeholder:"1",min:1,required:!0}))),n.createElement("div",null,n.createElement("label",null,"Condition"),n.createElement("div",{className:"relative z-0 w-full"},n.createElement("select",{name:"condition",className:e},n.createElement("option",{value:"new",selected:!0},"New"),n.createElement("option",{value:"old"},"Old")))),n.createElement("div",null,n.createElement("label",null,"Category"),n.createElement("div",{className:"relative z-0 w-full"},n.createElement("select",{name:"category",className:e,required:!0},n.createElement("option",{value:"o",disabled:!0,selected:!0},"select category"),s!=[]&&s.map((function(e,t){return n.createElement("option",{value:e[0],key:t},e[1])})))))),n.createElement("div",null,n.createElement("label",null,"Description"),n.createElement("textarea",{name:"description",className:"".concat(e," h-28"),required:!0})),n.createElement("div",null,n.createElement("label",null,"Keywords"),n.createElement("input",{className:e,name:"keywords",type:"text",required:!0})))),n.createElement("div",{className:"mt-4 flex"},n.createElement("button",{className:"btn-secondary"},"Cancel"),n.createElement("button",{type:"submit",className:"ml-auto btn-primary"},"Publish"))))}}}]);