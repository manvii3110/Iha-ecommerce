(self.webpackChunkiha_ecommerce=self.webpackChunkiha_ecommerce||[]).push([[988],{6988:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(7294);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,l=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(){var e="mt-1 appearance-none rounded-lg relative block w-full px-3 py-2 border placeholder-gray-500 text-gray-900  focus:outline-none focus:ring-green-500 focus:border-green-500  focus-within:border-green-500 focus:z-10 sm:text-sm",t=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),r=0;r<n.length;r++){var a=n[r].trim();if(a.substring(0,e.length+1)===e+"="){t=decodeURIComponent(a.substring(e.length+1));break}}return t}("csrftoken"),n=new FormData,l="",o=function(){document.querySelector("button[type='submit']").innerHTML=l},c=a((0,r.useState)(""),2),m=c[0],i=c[1],u=a((0,r.useState)([]),2),s=u[0],d=u[1];return(0,r.useEffect)((function(){fetch("/api/product/categories").then((function(e){return e.json()})).then((function(e){d(e.categories)}))}),[]),r.createElement(r.Fragment,null,r.createElement("form",{id:"CreateProductForm",className:" max-w-6xl mx-auto",onSubmit:function(e){e.preventDefault(),i(""),function(){for(var e in n=new FormData,document.querySelectorAll("#CreateProductForm input").forEach((function(e){"images"!=e.name&&n.append(e.name,e.value)})),n.append(document.querySelector("textarea").name,document.querySelector("textarea").value),document.querySelectorAll("#CreateProductForm select").forEach((function(e){n.append(e.name,e.value)})),n.append("csrfmiddlewaretoken",document.querySelector('input[name="csrfmiddlewaretoken"]').value),document.querySelector('#CreateProductForm input[name="images"]').files)n.append("img"+e,document.querySelector('#CreateProductForm input[name="images"]').files[e]);n.append("imageLength",document.querySelector('#CreateProductForm input[name="images"]').files.length);var t=document.querySelector("button[type='submit']");l=t.innerHTML,t.innerHTML="<div class='loading'></div>"}(),fetch("/api/product/",{method:"POST",headers:{"X-CSRFToken":t},body:n}).then((function(e){return e.json()})).then((function(e){o(),console.log(e)})).catch((function(e){o(),i(e),console.log("There is a catch ".concat(e))}))},method:"POST"},r.createElement("div",{className:"w-100"},r.createElement("h2",{className:" mb-4 text-xl sm:text-3xl font-medium sm:font-normal text-gray-900 border-b pb-2"},"Create a new Product Listing")),""!=m&&r.createElement("div",{className:"mt-4 w-full bg-red-50 text-red-500 font-bold border-2 border-red-500 rounded-md px-1 py-2 text-center"},"This is ",m),r.createElement("div",{className:"mt-6 flex flex-col md:flex-row border rounded-lg p-5 pt-4 bg-white"},r.createElement("div",{className:"mr-0 mb-6 md:mr-5 w-full md:w-2/5"},r.createElement("label",null,"Product Photos"),r.createElement("div",{className:"relative focus-within:border-green-500 focus-within:bg-gray-50 transition-all mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"},r.createElement("input",{name:"images",type:"file",accept:"image/*",className:"absolute  top-0 h-full w-full cursor-pointer",multiple:!0}),r.createElement("div",{className:"space-y-1 text-center"},r.createElement("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},r.createElement("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),r.createElement("div",{className:"flex text-sm text-gray-600"},r.createElement("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-green-600 hover:text-green-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-green-500"},r.createElement("span",null,"Upload a file")),r.createElement("p",{className:"pl-1"},"or drag and drop")),r.createElement("p",{className:"text-xs text-gray-500"},"PNG, JPG, GIF up to 10MB")))),r.createElement("div",{className:"w-full md:w-3/5 space-y-6"},r.createElement("div",null,r.createElement("label",{className:"flex"},"Product Title",r.createElement("span",{className:"text-xs ml-auto font-gray-400 font-normal my-auto"},"(64 characters at max)")),r.createElement("input",{className:" ".concat(e.replace("sm:text-sm","text-4xl")),name:"productName",type:"text",placeholder:"Product Title",maxLength:64})),r.createElement("div",{className:"block md:grid grid-flow-col grid-cols-3 space-y-6 md:space-y-0 space-x-0 md:space-x-6"},r.createElement("div",null,r.createElement("label",null,"Product Price"),r.createElement("span",{className:"".concat(e," flex font-medium")},"â‚¹",r.createElement("input",{className:"ml-2 focus:outline-none w-full ",name:"price",type:"number",placeholder:"1",min:1}))),r.createElement("div",null,r.createElement("label",null,"Condition"),r.createElement("div",{className:"relative z-0 w-full"},r.createElement("select",{name:"condition",className:e},r.createElement("option",{value:"new",selected:!0},"New"),r.createElement("option",{value:"old"},"Old")))),r.createElement("div",null,r.createElement("label",null,"Category"),r.createElement("div",{className:"relative z-0 w-full"},r.createElement("select",{name:"category",className:e},r.createElement("option",{value:"o",disabled:!0,selected:!0},"select category"),s!=[]&&s.map((function(e,t){return r.createElement("option",{value:e[0],key:t},e[1])})))))),r.createElement("div",null,r.createElement("label",null,"Description"),r.createElement("textarea",{name:"description",className:"".concat(e," h-28")})),r.createElement("div",null,r.createElement("label",null,"Keywords"),r.createElement("input",{className:e,name:"keywords",type:"text"})))),r.createElement("div",{className:"mt-4 flex"},r.createElement("button",{className:"btn-secondary"},"Cancel"),r.createElement("button",{type:"submit",className:"ml-auto btn-primary"},"Publish"))))}}}]);